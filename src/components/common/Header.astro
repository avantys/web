---
import Navigation from './Navigation.astro';
const CTA = { href: '/area-cliente', label: '√Årea del cliente' };

interface Props {}
Astro.props as Props;
---
<header id="site-header" class="sticky top-0 flex items-center justify-between py-4 bg-white motion-safe:transition-transform">
  <a href="/" class="font-bold text-xl">Avantys</a>
  <nav>
    <slot name="nav">
      <Navigation />
    </slot>
  </nav>
  <a href={CTA.href} class="btn btn-primary">{CTA.label}</a>
</header>
<script client:load>
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (!prefersReduced) {
    const header = document.getElementById('site-header');
    let lastY = window.scrollY;
    window.addEventListener('scroll', () => {
      const currentY = window.scrollY;
      if (currentY > lastY && currentY > 50) {
        header.classList.add('-translate-y-full');
      } else {
        header.classList.remove('-translate-y-full');
      }
      lastY = currentY;
    });
  }
</script>
